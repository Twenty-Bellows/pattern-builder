(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.i18n,r=window.wp.apiFetch;var a=e.n(r);const o=window.wp.blockSerializationDefaultParser,s=class{title="";content="";source="";slug="";synced=!1;constructor(e){this.title=e.title||"",this.content=e.content||"",this.blocks=(0,o.parse)(this.content),this.source=e.source||"",this.name=e.name,this.synced=e.synced||!1}},i=window.wp.blockEditor,c=window.wp.blocks,d=window.wp.components,l=window.ReactJSXRuntime,p=({pattern:e})=>{const{title:t,content:n}=e,r=(0,c.parse)(n);return(0,l.jsxs)(d.Composite,{onClick:()=>{console.log("Pattern clicked:",e)},children:[(0,l.jsx)("p",{children:t}),(0,l.jsx)(i.BlockPreview,{blocks:r,viewportWidth:400,minHeight:200})]})},w=()=>{const[e,r]=(0,t.useState)([]),[o,i]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async function(){return a()({path:"/pattern-manager/v1/patterns",method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.map((e=>new s(e)))))})().then((e=>{r(e),i(!1)})).catch((e=>{d(e.message||"Something went wrong."),i(!1)}))}),[]),(0,l.jsxs)("div",{className:"pattern-manager_container",children:[o&&(0,l.jsx)("p",{children:(0,n.__)("Loading patterns...","pattern-manager")}),c&&(0,l.jsx)("p",{style:{color:"red"},children:c}),(0,l.jsx)("div",{className:"pattern-manager_preview-grid",children:e.map(((e,t)=>(0,l.jsx)("div",{className:"pattern-manager_preview-grid-item",children:(0,l.jsx)(p,{pattern:e})},t)))})]})};function h(){return(0,l.jsx)(w,{})}window.addEventListener("load",(function(){const e=document.getElementById("pattern-manager-app");(0,t.createRoot)(e).render((0,l.jsx)(h,{}))}),!1)})();